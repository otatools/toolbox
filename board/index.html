<!DOCTYPE html><html lang="ja"><head>
    <meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>オンライン回答ボード - Ver 5.5</title>
    <script src="https://www.gstatic.com/firebasejs/9.17.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.17.1/firebase-database-compat.js"></script>
    <style>
        body { background: #0047AB; color: white; font-family: sans-serif; display: flex; align-items: center; justify-content: center; height: 100vh; margin: 0; flex-direction: column; }
        .box { background: rgba(255,255,255,0.2); padding: 40px; border-radius: 20px; width: 400px; text-align: center; border: 1px solid rgba(255,255,255,0.3); }
        .btn { width: 100%; padding: 18px; border: none; border-radius: 10px; font-weight: bold; cursor: pointer; margin: 15px 0; font-size: 20px; }
        .btn-white { background: #fff; color: #0047AB; }
        .btn-gold { background: #ffcc00; color: #333; }
        .warning { margin-top: 20px; font-size: 14px; background: rgba(0,0,0,0.3); padding: 15px; border-radius: 10px; line-height: 1.6; text-align: left; }
        
        /* 全ページ共通のフッターデザイン */
        .footer { position: fixed; bottom: 5px; width: 100%; text-align: center; font-size: 12px; color: rgba(255,255,255,0.4); border-top: 1px solid rgba(255,255,255,0.1); padding-top: 5px; }
    </style></head><body>
    <div class="box">
        <h2 style="margin-top:0">オンライン回答ボード</h2>
        <button class="btn btn-white" onclick="location.href='answer.html'">回答者ページを表示</button>
        <button class="btn btn-gold" onclick="createRoom()">新しい部屋を作成</button>
        <div class="warning">
            【注意】<br>
            ・児童には「回答者ページ」のURLまたは管理画面のQRコードを読み取らせてください。
        </div>
    </div>

    <div class="footer">オンライン回答ボード | Ver 5.5 | ota tools</div>

    <script>
        const config = { apiKey: "AIzaSyCQeNeHqy9VbtBv-hYHa7nantsoE6KLigw", authDomain: "ota-tools.firebaseapp.com", databaseURL: "https://ota-tools-default-rtdb.firebaseio.com", projectId: "ota-tools", appId: "1:671143719220:web:c89149c15de830e6d03561" };
        firebase.initializeApp(config); const db = firebase.database();
        function createRoom() {
            const room = Math.floor(1000 + Math.random() * 9000);
            db.ref(`rooms/${room}`).set({ 
                active: true, 
                state: { 
                    locked: false, 
                    allWrongMode: false,
                    timerCount: 0 
                } 
            })
            .then(() => { 
                sessionStorage.setItem('quiz_room', room); 
                location.href = 'teacher.html'; 
            });
        }
    </script></body></html>